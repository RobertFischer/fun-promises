<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Fun Promises API - v1.0.0-rc.1</title>
	<meta name="description" content="Documentation for Fun Promises API - v1.0.0-rc.1">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">Fun Promises API - v1.0.0-rc.1</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1>Fun Promises API - v1.0.0-rc.1</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<!-- @format -->
				<a href="#fun-promises" id="fun-promises" style="color: inherit; text-decoration: none;">
					<h1>fun-promises</h1>
				</a>
				<a href="#a-library-for-making-promises-more-friendly-fluent-and-functional" id="a-library-for-making-promises-more-friendly-fluent-and-functional" style="color: inherit; text-decoration: none;">
					<h2>A library for making Promises more friendly, fluent, and fun(ctional).</h2>
				</a>
				<a href="#what-this-is-not" id="what-this-is-not" style="color: inherit; text-decoration: none;">
					<h3>What This Is Not</h3>
				</a>
				<p>This is <em>not</em> an implementation of <a href="https://promisesaplus.com/">Promises/A+</a>. It
					is not a polyfill or a <a href="https://github.com/sindresorhus/ponyfill">ponyfill</a>. In
					fact, it assumes that you have <code>Promise</code> available as a global, either through a
				polyfill or natively.</p>
				<a href="#what-this-is" id="what-this-is" style="color: inherit; text-decoration: none;">
					<h3>What This Is</h3>
				</a>
				<p>This is a library that extends the native <code>Promise</code> implementation with a number
					of useful utilities, so that your code is faster and easier. It is inspired by
					libraries like <a href="http://bluebirdjs.com/"><code>bluebird</code></a> and
					<a href="https://github.com/tildeio/rsvp.js/blob/master/README.md"><code>rsvp.js</code></a>, except
					without the overhead of providing its own <code>Promise</code> implementation. Native
					promises have been competitive in performance since Node 10
					(<a href="https://www.npmjs.com/package/bluebird#note">even <code>bluebird</code> says so</a>) but
					there&#39;s a lot of functionality which native <code>Promises</code> don&#39;t supply. Fun
				Promises gives you that better API without the overhead.</p>
				<a href="#some-highlights" id="some-highlights" style="color: inherit; text-decoration: none;">
					<h3>Some Highlights</h3>
				</a>
				<p>For more details on these APIs, see
				<a href="https://robertfischer.github.io/fun-promises/">GitHub Pages</a>.</p>
				<a href="#deferral-class" id="deferral-class" style="color: inherit; text-decoration: none;">
					<h4><code>Deferral</code> class</h4>
				</a>
				<p>This is an inside-out promise: it gives you access to the <code>resolve</code> and <code>reject</code>
					methods of the promise so that you can perform operations on them later, as well
				as having accessor to query the state of <code>promise</code>.</p>
				<a href="#try" id="try" style="color: inherit; text-decoration: none;">
					<h4><code>try</code></h4>
				</a>
				<p>Wrap your execution in a promise, so that even its invocation
				<a href="https://blog.izs.me/2013/08/designing-apis-for-asynchrony">won&#39;t release Zalgo</a>.</p>
				<pre><code class="language-typescript">FunPromise.try(<span class="hljs-function">() =&gt;</span> doSomething(explosivelyFailingParamCalculation()));</code></pre>
				<a href="#catcherror" id="catcherror" style="color: inherit; text-decoration: none;">
					<h4><code>catchError</code></h4>
				</a>
				<p>Like <code>catch</code>, but ensures that the argument is an <code>Error</code>. (You can throw
				anything in JavaScript!)</p>
				<pre><code class="language-typescript">sketchyCall().catchError(<span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span>
    <span class="hljs-built_in">console</span>.warn(<span class="hljs-string">`Failed to make sketchyCall: <span class="hljs-subst">${e.message}</span>`</span>, e)
);</code></pre>
				<a href="#tap" id="tap" style="color: inherit; text-decoration: none;">
					<h4><code>tap</code></h4>
				</a>
				<p>This lets you take a look at a resolved value without risking changing it. This
				is extremely useful for debugging log messages.</p>
				<pre><code class="language-typescript">someExpensiveOperation()
    .tap(<span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> debug(<span class="hljs-string">&quot;Value from someExpensiveOperation&quot;</span>, value))
    .then(<span class="hljs-comment">/* ... */</span>);</code></pre>
				<a href="#race" id="race" style="color: inherit; text-decoration: none;">
					<h4><code>race</code></h4>
				</a>
				<p>Fire off a bunch of promises and return whichever one resolves first. (The
				results of any later-resolving promises are discarded.)</p>
				<pre><code class="language-typescript">getRelatedShows().race(<span class="hljs-function">(<span class="hljs-params">someShow</span>) =&gt;</span> renderSuggestedShow(someShow));</code></pre>
				<a href="#coalesce" id="coalesce" style="color: inherit; text-decoration: none;">
					<h4><code>coalesce</code></h4>
				</a>
				<p>Given a bunch of functions that return either values or promises of values,
				execute them sequentially and return the first one what resolves.</p>
				<pre><code class="language-typescript">FunPromise.coalesce([
    lookupUserInMemoryCache,
    lookupUserInRedisCache,
    lookupUserInDB,
]).then(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> renderUserData(data));</code></pre>
				<p>That code is equivalent to:</p>
				<pre><code class="language-typescript">FunPromise.resolve([
    lookupUserInMemoryCache,
    lookupUserInRedisCache,
    lookupUserInDB,
])
    .coalesce()
    .then(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> renderUserData);</code></pre>
				<a href="#conventions" id="conventions" style="color: inherit; text-decoration: none;">
					<h3>Conventions</h3>
				</a>
				<a href="#collection-methods-and-seq-methods" id="collection-methods-and-seq-methods" style="color: inherit; text-decoration: none;">
					<h4>Collection Methods and <code>*Seq</code> Methods</h4>
				</a>
				<p>There are a number of collection methods provided, such as <code>fold</code>, <code>map</code>, and
					<code>filter</code>. These methods assume that they are acting on a
					<code>FunPromise&lt;T extends Iterable&lt;U&gt;&gt;</code>, and the type system will ensure that you
					are if you&#39;re using Typescript: attempts to call those functions on something
					that is not <code>Iterable</code> will end up with a return type of <code>FunPromise&lt;never&gt;</code>.
					If, however, you circumvent the typing (eg: by using JavaScript to call the
					method), then the resolved value of the <code>FunPromise</code> will be cast to an array
					using <a href="https://lodash.com/docs/4.17.15#castArray"><code>_.castArray</code> from Lodash</a>,
				which probably does what you want.</p>
				<p>There are also methods whose names end in <code>*Seq</code>. These methods also operate on
					a <code>FunPromise&lt;T extends Iterable&lt;U&gt;&gt;</code>. They are functionally identical to their
					<code>Seq</code>-less counterparts, but with one additional guarantee: the first element of
					the iterable will be forced to resolve and will be processed before ever looking
					at the second element, and so on. This may be useful for debugging or other
					times when you are particular about making sure one thing works before the next
				occurs.</p>
				<a href="#distributions" id="distributions" style="color: inherit; text-decoration: none;">
					<h3>Distributions</h3>
				</a>
				<p>By default, your packager should automatically grab the appropriate distribution
					through the <code>package.json</code> configuration within this library. If you&#39;re curious
					or if you have a weird use case, then you have a few different flavors of the
				codebase to choose from. All of these are generated by the same underlying code.</p>
				<a href="#esnext" id="esnext" style="color: inherit; text-decoration: none;">
					<h4>ESNext</h4>
				</a>
				<p>Within <code>./dist/esnext</code> is the result of the Typescript compilation with the
					<a href="https://www.typescriptlang.org/tsconfig#module">&quot;ESNext&quot; <code>module</code> setting</a> and
					the <a href="https://www.typescriptlang.org/tsconfig#target">&quot;ESNext&quot; <code>target</code> setting</a>.
				This is the base that is used to generate the rest of the files.</p>
				<a href="#browser-based-commonjs-es-modules-single-file-umd" id="browser-based-commonjs-es-modules-single-file-umd" style="color: inherit; text-decoration: none;">
					<h4>Browser-Based: CommonJS, ES Modules, Single File UMD</h4>
				</a>
				<p>Within <code>./dist/browser</code> are three folders: <code>cjs</code> (CommonJS), <code>esm</code> (ESModules),
				<code>min</code> (single file UMD for serving up, eg: over a CDN).</p>
				<a href="#node-commonjs-and-es-modules" id="node-commonjs-and-es-modules" style="color: inherit; text-decoration: none;">
					<h4>Node: CommonJS and ES Modules</h4>
				</a>
				<p>Within <code>./dist/browser</code> are two folders: <code>cjs</code> (CommonJS) and <code>esm</code> (ESModules).</p>
				<a href="#documentation" id="documentation" style="color: inherit; text-decoration: none;">
					<h3>Documentation</h3>
				</a>
				<p>The full documentation (including this content) is available at
				<a href="https://robertfischer.github.io/fun-promises/">GitHub Pages</a>.</p>
				<a href="#contributing--todo-" id="contributing--todo-" style="color: inherit; text-decoration: none;">
					<h3>Contributing [ TODO ]</h3>
				</a>
				<a href="#design-philosophy--todo-" id="design-philosophy--todo-" style="color: inherit; text-decoration: none;">
					<h4>Design Philosophy [ TODO ]</h4>
				</a>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_index_.html">&quot;index&quot;</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-type-alias tsd-has-type-parameter"><span class="tsd-kind-icon">Type alias with type parameter</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>